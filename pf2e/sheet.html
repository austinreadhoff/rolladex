<html>
    <head>
        <title>RollaDex</title>
        <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
        <meta content="utf-8" http-equiv="encoding">
    
        <link rel="stylesheet" href="../css/bootstrap-grid.min.css">
        <link rel="stylesheet" href="../css/rpgui.min.css">
        <link rel="stylesheet" href="../css/global.css">
        <link rel="stylesheet" href="../css/autocomplete.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        
        <link rel="stylesheet" href="css/pf2e.css">
        <link rel="stylesheet" href="css/print.css" media="print">
	
        <script>require("../src/pf2e/spells.js")</script>
        <script>require("../src/pf2e/feats.js")</script>
        <script>require("../src/pf2e/json-io.js")</script>
        <script>require("../src/pf2e/pf2e.js")</script>
    </head>

    <body class="rpgui-content">
        <modal params="name: 'dice-modal'">
            <dice-roller></dice-roller>
        </modal>

        <div class="nav print-hidden">
            <div>
                <img src="../img/game_icon_2e.png" class="game-icon">
                <button class="nav-link rpgui-button active down" id="stats-tab"><p>Stats</p></button>
                <button class="nav-link rpgui-button" id="feats-tab"><p>Feats</p></button>
                <button class="nav-link rpgui-button" id="bio-tab"><p>Bio</p></button>
                <button class="nav-link rpgui-button" id="gear-tab"><p>Gear</p></button>
                <button class="nav-link rpgui-button" id="spellbook-tab"><p>Spellbook</p></button>
                <button class="nav-link rpgui-button" id="spellcatalog2e-tab"><p>Spell Catalog</p></button>
            </div>
            <div>
                <button class="short-button modal-opener" data-bind="attr: { 'data-modal': 'dice-modal' }">âš„ Roll Dice</button>
                <button class="short-button" id="bttn-rest">ðŸ’¤ Take Rest</button>
            </div>
        </div>
        </div>
        <div class="tab-content">
            <div data-bind="with: character" class="tab-pane show active" id="stats" role="tabpanel" aria-labelledby="stats-tab">
                <div id="stats-container" class="container-fluid">
                    <div class="header row">    
                        <div class="col container rpgui-container framed-golden">
                            <div class="row">
                                <div class="form-group col-3">
                                    <label for="character-name">Character Name</label>
                                    <input data-bind="textInput: characterName" id="character-name" >
                                </div>
                                <div class="form-group col-3">
                                    <label for="player-name">Player Name</label>
                                    <input data-bind="textInput: playerName" id="player-name" >
                                </div>
                                <div class="form-group col-2">
                                    <label for="xp">Experience Points (XP)</label>
                                    <input data-bind="textInput: xp" id="xp" >
                                </div>
                                <div class="form-group col-2">
                                    <label for="level">Level</label>
                                    <input data-bind="textInput: level" id="level" >
                                </div>
                                <div class="form-group col-2">
                                    <label for="hero-points">Hero Points</label>
                                    <input data-bind="textInput: heroPoints" id="hero-points" >
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-3">
                                    <label for="ancestry-heritage">Ancestry and Heritage</label>
                                    <input data-bind="textInput: ancestryHeritage" id="ancestry-heritage" >
                                </div>
                                <div class="form-group col-3">
                                    <label for="character-class">Class</label>
                                    <input data-bind="textInput: characterClass" id="character-class" >
                                </div>
                                <div class="form-group col-2">
                                    <label for="background">Background</label>
                                    <input data-bind="textInput: background"id="background" >
                                </div>
                                <div class="form-group col-2">
                                    <label for="traits">Traits</label>
                                    <input data-bind="textInput: traits" id="traits" >
                                </div>
                                <div class="form-group col-2">
                                    <label for="size">Size</label>
                                    <input data-bind="textInput: size" id="size" >
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <div class="container">
                                <div class="row">
                                    <div id="ability-scores" class="col-4 rpgui-container framed">
                                        <div class="ability-score-container form-group">
                                            <label>Strength</label>
                                            <span data-bind="text: abilityMod(str())" id="str-mod" class="ability-mod"></span>
                                            <input data-bind="textInput: str" id="str" class=" ability-input">
                                        </div>
                                        <div class="ability-score-container form-group">
                                            <label>Dexterity</label>
                                            <span data-bind="text: abilityMod(dex())" id="dex-mod" class="ability-mod"></span>
                                            <input data-bind="textInput: dex" id="dex" class=" ability-input">
                                        </div>
                                        <div class="ability-score-container form-group">
                                            <label>Constitution</label>
                                            <span data-bind="text: abilityMod(con())" id="con-mod" class="ability-mod"></span>
                                            <input data-bind="textInput: con" id="con" class=" ability-input">
                                        </div>
                                        <div class="ability-score-container form-group">
                                            <label>Intelligence</label>
                                            <span data-bind="text: abilityMod(int())" id="int-mod" class="ability-mod"></span>
                                            <input data-bind="textInput: int" id="int" class=" ability-input">
                                        </div>
                                        <div class="ability-score-container form-group">
                                            <label>Wisdom</label>
                                            <span data-bind="text: abilityMod(wis())" id="wis-mod" class="ability-mod"></span>
                                            <input data-bind="textInput: wis" id="wis" class=" ability-input">
                                        </div>
                                        <div class="ability-score-container form-group">
                                            <label>Charisma</label>
                                            <span data-bind="text: abilityMod(char())" id="char-mod" class="ability-mod"></span>
                                            <input data-bind="textInput: char" id="char" class=" ability-input">
                                        </div>
                                    </div>
                                    <div id="skills-etc" class="rpgui-container framed">
                                        <div id="class-dc">
                                            <div>
                                                <div data-bind="skillbox: classDCProficiency" class="skillbox" id="class-dc-prof"></div>
                                                <select data-bind="value: classDCAbility" class="rpgui-dropdown">
                                                    <option value="STR">STR</option>
                                                    <option value="DEX">DEX</option>
                                                    <option value="CON">CON</option>
                                                    <option value="INT">INT</option>
                                                    <option value="WIS">WIS</option>
                                                    <option value="CHAR">CHA</option>
                                                </select>
                                                <label class="form-check-label" for="class-dc-prof">Class DC = </label>
                                                <span data-bind="text: abilityDC(classDCAbility(), classDCProficiency())" id="class-dc"></span>
                                            </div>
                                        </div>
                                        <div id="saving-throws" >
                                            <label>Saving Throws</label>
                                            <div>
                                                <div data-bind="skillbox: savingReflex" class="skillbox" id="saving-reflex"></div>
                                                <span data-bind="text: abilityMod(dex(), savingReflex())" id="saving-reflex-mod" ></span>
                                                <label class="form-check-label" for="saving-reflex">Reflex</label>
                                            </div>
                                            <div>
                                                <div data-bind="skillbox: savingFort" class="skillbox" id="saving-fort"></div>
                                                <span data-bind="text: abilityMod(con(), savingFort())" id="saving-fort-mod" ></span>
                                                <label class="form-check-label" for="saving-fort">Fortitude</label>
                                            </div>
                                            <div>
                                                <div data-bind="skillbox: savingWill" class="skillbox" id="saving-will"></div>
                                                <span data-bind="text: abilityMod(wis(), savingWill())" id="saving-will-mod" ></span>
                                                <label class="form-check-label" for="saving-will">Will</label>
                                            </div>
                                        </div>
                                        <div id="skills" >
                                            <label>Skills</label>
                                            <div>
                                                <div data-bind="skillbox: perception" class="skillbox" id="perception"></div>
                                                <span data-bind="text: abilityMod(wis(), perception())" id="perception-mod" ></span>
                                                <label class="form-check-label" for="perception">Perception</label>
                                                <label class="ability-note">(Wis)</label>
                                            </div>
                                            <div>
                                                <div data-bind="skillbox: acrobatics" class="skillbox" id="acrobatics"></div>
                                                <span data-bind="text: abilityMod(dex(), acrobatics())" id="acrobatics-mod" ></span>
                                                <label class="form-check-label" for="acrobatics">Acrobatics</label>
                                                <label class="ability-note">(Dex)</label>
                                            </div>
                                            <div>
                                                <div data-bind="skillbox: arcana" class="skillbox" id="arcana"></div>
                                                <span data-bind="text: abilityMod(int(), arcana())" id="arcana-mod" ></span>
                                                <label class="form-check-label" for="arcana">Arcana</label>
                                                <label class="ability-note">(Int)</label>
                                            </div>
                                            <div>
                                                <div data-bind="skillbox: athletics" class="skillbox" id="athletics"></div>
                                                <span data-bind="text: abilityMod(str(), athletics())" id="athletics-mod" ></span>
                                                <label class="form-check-label" for="athletics">Athletics</label>
                                                <label class="ability-note">(Str)</label>
                                            </div>
                                            <div>
                                                <div data-bind="skillbox: crafting" class="skillbox" id="crafting"></div>
                                                <span data-bind="text: abilityMod(int(), crafting())" id="crafting-mod" ></span>
                                                <label class="form-check-label" for="acrobatics">Crafting</label>
                                                <label class="ability-note">(Int)</label>
                                            </div>
                                            <div>
                                                <div data-bind="skillbox: deception" class="skillbox" id="deception"></div>
                                                <span data-bind="text: abilityMod(char(), deception())" id="deception-mod" ></span>
                                                <label class="form-check-label" for="deception">Deception</label>
                                                <label class="ability-note">(Char)</label>
                                            </div>
                                            <div>
                                                <div data-bind="skillbox: diplomacy" class="skillbox" id="diplomacy"></div>
                                                <span data-bind="text: abilityMod(char(), diplomacy())" id="diplomacy-mod" ></span>
                                                <label class="form-check-label" for="diplomacy">Diplomacy</label>
                                                <label class="ability-note">(Char)</label>
                                            </div>
                                            <div>
                                                <div data-bind="skillbox: intimidation" class="skillbox" id="intimidation"></div>
                                                <span data-bind="text: abilityMod(char(), intimidation())" id="intimidation-mod" ></span>
                                                <label class="form-check-label" for="intimidation">Intimidation</label>
                                                <label class="ability-note">(Char)</label>
                                            </div>
                                            <div>
                                                <div data-bind="skillbox: medicine" class="skillbox" id="medicine"></div>
                                                <span data-bind="text: abilityMod(wis(), medicine())" id="medicine-mod" ></span>
                                                <label class="form-check-label" for="medicine">Medicine</label>
                                                <label class="ability-note">(Wis)</label>
                                            </div>
                                            <div>
                                                <div data-bind="skillbox: nature" class="skillbox" id="nature"></div>
                                                <span data-bind="text: abilityMod(wis(), nature())" id="nature-mod" ></span>
                                                <label class="form-check-label" for="nature">Nature</label>
                                                <label class="ability-note">(Wis)</label>
                                            </div>
                                            <div>
                                                <div data-bind="skillbox: occultism" class="skillbox" id="occultism"></div>
                                                <span data-bind="text: abilityMod(int(), perception())" id="occultism-mod" ></span>
                                                <label class="form-check-label" for="occultism">Occultism</label>
                                                <label class="ability-note">(Int)</label>
                                            </div>
                                            <div>
                                                <div data-bind="skillbox: performance" class="skillbox" id="performance"></div>
                                                <span data-bind="text: abilityMod(char(), performance())" id="performance-mod" ></span>
                                                <label class="form-check-label" for="performance">Performance</label>
                                                <label class="ability-note">(Char)</label>
                                            </div>
                                            <div>
                                                <div data-bind="skillbox: religion" class="skillbox" id="religion"></div>
                                                <span data-bind="text: abilityMod(wis(), religion())" id="religion-mod" ></span>
                                                <label class="form-check-label" for="religion">Religion</label>
                                                <label class="ability-note">(Wis)</label>
                                            </div>
                                            <div>
                                                <div data-bind="skillbox: society" class="skillbox" id="society"></div>
                                                <span data-bind="text: abilityMod(int(), society())" id="society-mod" ></span>
                                                <label class="form-check-label" for="society">Society</label>
                                                <label class="ability-note">(Int)</label>
                                            </div>
                                            <div>
                                                <div data-bind="skillbox: stealth" class="skillbox" id="stealth"></div>
                                                <span data-bind="text: abilityMod(dex(), stealth())" id="stealth-mod" ></span>
                                                <label class="form-check-label" for="stealth">Stealth</label>
                                                <label class="ability-note">(Dex)</label>
                                            </div>
                                            <div>
                                                <div data-bind="skillbox: survival" class="skillbox" id="survival"></div>
                                                <span data-bind="text: abilityMod(dex(), survival())" id="survival-mod" ></span>
                                                <label class="form-check-label" for="survival">Survival</label>
                                                <label class="ability-note">(Wis)</label>
                                            </div>
                                            <div>
                                                <div data-bind="skillbox: thievery" class="skillbox" id="thievery"></div>
                                                <span data-bind="text: abilityMod(dex(), thievery())" id="thievery-mod" ></span>
                                                <label class="form-check-label" for="thievery">Thievery</label>
                                                <label class="ability-note">(Dex)</label>
                                            </div>
                                        </div>
                                        <div id="lore-skills" >
                                            <label>Lore Skills</label>
                                            <label class="ability-note">(Int)</label>
                                            <button data-bind="click: addLoreSkill" type="button" id="btn-add-lore" class="rpgui-button btn-small">+</button>
                                            <div data-bind="foreach: loreSkills">
                                                <div class="lore-skill">
                                                    <button data-bind="click: $parent.removeLoreSkill" type="button" id="btn-remove-lore" class="rpgui-button btn-small">-</button>
                                                    <div data-bind="skillbox: proficiency" class="skillbox lore-field"></div>
                                                    <span data-bind="text: $parent.abilityMod($parent.int(), proficiency())" ></span>
                                                    <input data-bind="textInput: name" class=" lore-field">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col rpgui-container framed">
                            <div class="container">
                                <div class="row">
                                    <div class="container block ">
                                        <div class="row">
                                            <div class="col container">
                                                <label class="row">Hit Points</label>
                                                <div class="row">
                                                    <fancy-bar params="currentValue: currentHP, maxValue: maxHP, color: 'red'"></fancy-bar>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col print-hidden">
                                                <label>Temp HP</label>
                                                <input data-bind="textInput: tempHP" id="temp-hp" >
                                            </div>
                                            <div class="col">
                                                <label>Dying</label>
                                                <input data-bind="textInput: dying" id="dying" >
                                            </div>
                                            <div class="col">
                                                <label>Wounded</label>
                                                <input data-bind="textInput: wounded" id="wounded" >
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="row">
                                            <div class="form-group col textarea-col">
                                                <label for="conditions">Conditions</label>
                                                <textarea data-bind="textInput: conditions"  id="conditions" rows="5"></textarea>
                                            </div>
                                        </div>
                                        <hr>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="container block ">
                                        <div class="row">
                                            <div class="form-group col">
                                                <label for="armor-class">Armor Class</label>
                                                <input data-bind="textInput: armorClass" id="armor-class" >
                                            </div>
                                            <div class="form-group col">
                                                <label for="speed">Speed</label>
                                                <input data-bind="textInput: speed" id="speed" >
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class=" col">
                                                <label>Armor Proficiencies</label>
                                                <div>
                                                    <div data-bind="skillbox: armorUnarmored" class="skillbox" id="armor-unarmored"></div>
                                                    <span data-bind="text: simpleProficiency(armorUnarmored())"></span>
                                                    <label class="form-check-label" for="armor-unarmored">Unarmored</label>
                                                </div>
                                                <div>
                                                    <div data-bind="skillbox: armorLight" class="skillbox" id="armor-light"></div>
                                                    <span data-bind="text: simpleProficiency(armorLight())"></span>
                                                    <label class="form-check-label" for="armor-light">Light</label>
                                                </div>
                                                <div>
                                                    <div data-bind="skillbox: armorMedium" class="skillbox" id="armor-medium"></div>
                                                    <span data-bind="text: simpleProficiency(armorMedium())"></span>
                                                    <label class="form-check-label" for="armor-medium">Medium</label>
                                                </div>
                                                <div>
                                                    <div data-bind="skillbox: armorHeavy" class="skillbox" id="armor-heavy"></div>
                                                    <span data-bind="text: simpleProficiency(armorHeavy())"></span>
                                                    <label class="form-check-label" for="armor-heavy">Heavy</label>
                                                </div>
                                            </div>
                                            <div class=" col">
                                                <label>Weapon Proficiencies</label>
                                                <div>
                                                    <div data-bind="skillbox: weaponsUnarmed" class="skillbox" id="weapons-unarmed"></div>
                                                    <span data-bind="text: simpleProficiency(weaponsUnarmed())"></span>
                                                    <label class="form-check-label" for="weapons-unarmed">Unarmed</label>
                                                </div>
                                                <div>
                                                    <div data-bind="skillbox: weaponsSimple" class="skillbox" id="weapons-simple"></div>
                                                    <span data-bind="text: simpleProficiency(weaponsSimple())"></span>
                                                    <label class="form-check-label" for="weapons-simple">Simple</label>
                                                </div>
                                                <div>
                                                    <div data-bind="skillbox: weaponsMartial" class="skillbox" id="weapons-martial"></div>
                                                    <span data-bind="text: simpleProficiency(weaponsMartial())"></span>
                                                    <label class="form-check-label" for="weapons-martial">Martial</label>
                                                </div>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="row">
                                            <div class="form-group col textarea-col">
                                                <label for="languages">Languages</label>
                                                <textarea data-bind="textInput: languages"  id="languages" rows="5"></textarea>
                                            </div>
                                            <div class="col">
                                                <label>Other Weapons</label>
                                                <button data-bind="click: addOtherWeapon" type="button" id="btn-add-other-weapon" class="rpgui-button btn-small">+</button>
                                                <div data-bind="foreach: otherWeapons">
                                                    <div class="other-weapon">
                                                        <button data-bind="click: $parent.removeOtherWeapon" type="button" id="btn-remove-other-weapon" class="rpgui-button btn-small">-</button>
                                                        <div data-bind="skillbox: proficiency" class="skillbox other-weapon-field"></div>
                                                        <span data-bind="text: $parent.simpleProficiency(proficiency())"></span>
                                                        <input data-bind="textInput: name" class=" other-weapon-field">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col rpgui-container framed">
                            <div class="container">
                                <div class="row">
                                    <div class="container block ">
                                        <div class="row">
                                            <label>Shield</label>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col">
                                                <label for="shield-bonus">Bonus</label>
                                                <input data-bind="textInput: shieldBonus" id="shield-bonus" >
                                            </div>
                                            <div class="form-group col">
                                                <label for="shield-hardness">Hardness</label>
                                                <input data-bind="textInput: shieldHardness" id="shield-hardness" >
                                            </div>
                                            <div class="form-group col">
                                                <label for="shield-bt">BT</label>
                                                <input data-bind="textInput: shieldBT" id="shield-bt" >
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col container">
                                                <label class="row">HP</label>
                                                <div class="row">
                                                    <fancy-bar params="currentValue: shieldCurrentHP, maxValue: shieldMaxHP, color: 'red'"></fancy-bar>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="container block ">
                                        <label class="row full-width-label">Attacks&nbsp<button data-bind="click: addAttackRow" type="button" id="btn-add-attack" class="rpgui-button btn-small">+</button></label>
                                        
                                        <div class="row">
                                            <label class="col-1 print-hidden"></label>
                                            <label class="col-4">Name</label>
                                            <label class="col-2">Bonus</label>
                                            <label class="col-4">Damage/Type</label>
                                        </div>
                                        <div data-bind="foreach: attackStats" id="attack-stats">
                                            <div class="attack-stat-row row">
                                                <button data-bind="click: $parent.removeAttackRow" type="button" id="btn-remove-attack" class="rpgui-button btn-small">-</button>
                                                <input data-bind="textInput: name" class=" col-4 attack-stat attack-stat-name">
                                                <input data-bind="textInput: bonus" class=" col-2 attack-stat attack-stat-bonus">
                                                <input data-bind="textInput: dmg" class=" col-4 attack-stat attack-stat-dmg">
                                            </div>
                                            <div class="attack-stat-row row">
                                                <input data-bind="textInput: traits" class=" col-12 attack-stat attack-stat-traits">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div id="misc-counters-container" class="print-hidden">
                        <div id="misc-counters-header">
                            <label>Custom Counters</label>
                            <button data-bind="click: addMiscCounter" type="button" id="btn-add-counter" class="rpgui-button btn-small">+</button>
                        </div>
                        <div data-bind="foreach: miscCounters" id="misc-counters" class="row block ">
                            <div class="misc-counter-block rpgui-container framed-grey">
                                <button data-bind="click: $parent.removeMiscCounter" type="button" id="btn-remove-counter" class="rpgui-button btn-small">-</button>
                                <input data-bind="checked: rest, attr: { id: 'misc-counter-reset-'+$index() }" type="checkbox" class="misc-counter rpgui-checkbox">
                                <label data-bind="attr: { for: 'misc-counter-reset-'+$index() }">Reset Daily</label>
                                <input data-bind="textInput: name" class=" misc-counter counter-name" placeholder="Custom Counter Name">
                                <div>
                                    <fancy-bar params="currentValue: current, maxValue: max, color: null"></fancy-bar>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div data-bind="with: character" class="tab-pane" id="feats" role="tabpanel" aria-labelledby="feats-tab">
                <div id="feats-container" class="container-fluid">
                    <div class="form-group col textarea-col rpgui-container framed-golden-2">
                        <label for="featsFeatures">Feats & Features</label>
                        <textarea data-bind="textInput: featsFeatures"  id="feats-features" rows="25"></textarea>
                    </div>
                </div>
            </div>

            <div data-bind="with: character" class="tab-pane" id="bio" role="tabpanel" aria-labelledby="bio-tab">
                <div id="bio-container" class="container-fluid rpgui-container framed">
                    <div class="header row block ">
                        <div class="col-6 form-group">
                            <label for="appearance">Appearance</label>
                            <textarea data-bind="textInput: appearance" id="appearance"  rows="5"></textarea>
                        </div>
    
                        <div class="col-6 container">
                            <div class="row">
                                <div class="form-group col">
                                    <label for="ethnicity">Ethnicity</label>
                                    <input data-bind="textInput: ethnicity" id="ethnicity" >
                                </div>
                                <div class="form-group col">
                                    <label for="nationality">Nationality</label>
                                    <input data-bind="textInput: nationality" id="nationality" >
                                </div>
                                <div class="form-group col">
                                    <label for="birthplace">Birthplace</label>
                                    <input data-bind="textInput: birthplace" id="birthplace" >
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col">
                                    <label for="age">Age</label>
                                    <input data-bind="textInput: age" id="age" >
                                </div>
                                <div class="form-group col">
                                    <label for="ht-wt">HT/WT</label>
                                    <input data-bind="textInput: heightWeight" id="ht-wt" >
                                </div>
                                <div class="form-group col">
                                    <label for="gender">Gender/Pronouns</label>
                                    <input data-bind="textInput: gender" id="gender" >
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-3 form-group">
                            <label for="attitude">Attitude</label>
                            <textarea data-bind="textInput: attitude"  id="attitude" rows="4"></textarea>
                        </div>
                        <div class="col-3 form-group">
                            <label for="beliefs">Diety/Philosphy/Beliefs</label>
                            <textarea data-bind="textInput: beliefs"  id="beliefs" rows="4"></textarea>
                        </div>
                        <div class="col-2 form-group">
                            <label for="likes">Likes</label>
                            <textarea data-bind="textInput: likes"  id="likes" rows="4"></textarea>
                        </div>
                        <div class="col-2 form-group">
                            <label for="dislikes">Dislikes</label>
                            <textarea data-bind="textInput: dislikes"  id="dislikes" rows="4"></textarea>
                        </div>
                        <div class="col-2 form-group">
                            <label for="catchphrases">Catchphrases</label>
                            <textarea data-bind="textInput: catchphrases"  id="catchphrases" rows="4"></textarea>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6 form-group">
                            <label for="backstory">Backstory</label>
                            <textarea data-bind="textInput: backstory"  id="backstory" rows="10"></textarea>
                        </div>
                        <div class="col-6 form-group">
                            <label for="party">Party</label>
                            <textarea data-bind="textInput: party"  id="party" rows="10"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <div data-bind="with: character" class="tab-pane" id="gear" role="tabpanel" aria-labelledby="gear-tab">
                <div id="gear-container" class="container-fluid">
                    <div class="row container">
                        <div class="col-6 rpgui-container framed-golden">
                            <div class="row ">
                                <div class="col-2 form-group">
                                    <label for="bulk">Bulk</label>
                                    <input data-bind="textInput: bulk" id="bulk" >
                                </div>
                                <div class="col-5 form-group">
                                    <p>Encumberance Over: <span data-bind="text: encumberanceLimit()"></span></p>
                                </div>
                                <div class="col-5 form-group">
                                    <p>Max Load: <span data-bind="text: maxBulk()"></span></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row rpgui-container framed">
                        <div class="col-3">
                            <div class="container block ">
                                <div class="row">
                                    <div class="col form-group">
                                        <img class="currency" src="../img/pixelated/cp.png">
                                        <label for="copper">CP</label>
                                        <input data-bind="textInput: copper" id="copper" >
                                    </div>
                                    <div class="col form-group">
                                        <img class="currency" src="../img/pixelated/sp.png">
                                        <label for="silver">SP</label>
                                        <input data-bind="textInput: silver" id="silver" >
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col form-group">
                                        <img class="currency" src="../img/pixelated/gp.png">
                                        <label for="gold">GP</label>
                                        <input data-bind="textInput: gold" id="gold" >
                                    </div>
                                    <div class="col form-group">
                                        <img class="currency" src="../img/pixelated/pp.png">
                                        <label for="platinum">PP</label>
                                        <input data-bind="textInput: platinum" id="platinum" >
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-3 form-group">
                            <label for="stored-money">Stored Money</label>
                            <textarea data-bind="textInput: storedMoney"  id="stored-money" rows="6"></textarea>
                        </div>
                        <div class="col-3 form-group">
                            <label for="gems">Gems and Valuables</label>
                            <textarea data-bind="textInput: gems"  id="gems" rows="6"></textarea>
                        </div>
                        <div class="col-3 form-group">
                            <label for="assets">Holdings and Assets</label>
                            <textarea data-bind="textInput: assets"  id="assets" rows="6"></textarea>
                        </div>
                    </div>
                    <div class="row rpgui-container framed">
                        <div class="col-4 form-group">
                            <label for="items-equipped">Equipped</label>
                            <textarea data-bind="textInput: itemsEquipped"  id="items-equipped" rows="14"></textarea>
                        </div>
                        <div class="col-4 form-group">
                            <label for="items-permanent">Permanent Items</label>
                            <textarea data-bind="textInput: itemsPermanent"  id="items-permanent" rows="14"></textarea>
                        </div>
                        <div class="col-4 form-group">
                            <label for="items-consumable">Consumables</label>
                            <textarea data-bind="textInput: itemsConsumable"  id="items-consumable" rows="14"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <div data-bind="with: character" class="tab-pane" id="spellbook" role="tabpanel" aria-labelledby="spellbook-tab">
                <div id="spellbook-container" class="container-fluid">
                    <div class="header row rpgui-container framed-golden">
                        <div class="form-group col-2">
                            <label for="spellcasting-tradition">Magical Traition</label>
                            <select id="spellcasting-tradition" class="rpgui-dropdown" data-bind="value: spellcastingTradition" style="width:50%;">
                              <option value="arcane">Arcane</option>
                              <option value="divine">Divine</option>
                              <option value="occult">Occult</option>
                              <option value="primal">Primal</option>
                            </select>
                        </div>
                        <div class="form-group col-2">
                            <input data-bind="checked: spellcastingType" type="radio" name="spell-type" id="spell-type-prepared" class="rpgui-radio" value="1">
                            <label for="spell-type-prepared">Prepared</label>
                            <input data-bind="checked: spellcastingType" type="radio" name="spell-type" id="spell-type-spontaneous" class="rpgui-radio" value="2">
                            <label for="spell-type-spontaneous">Spontaneous</label>
                        </div>
                        <div class="form-group col-2">
                            <label for="spellcasting-ability">Spellcasting Ability</label>
                            <select id="spellcasting-ability" class="rpgui-dropdown" data-bind="value: spellcastingAbility" style="width:50%;">
                              <option value="STR">STR</option>
                              <option value="DEX">DEX</option>
                              <option value="CON">CON</option>
                              <option value="INT">INT</option>
                              <option value="WIS">WIS</option>
                              <option value="CHAR">CHA</option>
                            </select>
                        </div>
                        <div class="form-group col-2" style="text-align: center;">
                            <div data-bind="skillbox: spellDCProficiency" class="skillbox" id="spell-dc-prof"></div>
                            <label class="form-check-label" for="spell-dc-prof">Spell DC = </label><br/><br/>
                            <span data-bind="text: abilityDC(spellcastingAbility(), spellDCProficiency())" id="spell-dc"></span>
                        </div>
                        <div class="form-group col-2" style="text-align: center;">
                            <div data-bind="skillbox: spellAttackProficiency" class="skillbox" id="spell-attack-prof"></div>
                            <label class="form-check-label" for="spell-attack-prof">Spell Attack Roll = </label><br/><br/>
                            <span data-bind="text: abilityMod(spellcastingAbility(), spellAttackProficiency())" id="spell-attack"></span>
                        </div>
                    </div>
                    <div data-bind="foreach: spellLevels" class="row">
                        <div data-bind="attr: { 'data-level': level }" class="container spell-block rpgui-container framed">
                            <label data-bind="text: levelFormatted" class="full-width-label"></label>
                            <button data-bind="click: function(){$parent.addSpell(level())}" type="button" id="btn-add-spell" class="rpgui-button btn-small">+</button>
                            <div id="spells">
                                <!--ko if: (level() < 11)-->
                                <div class="spell-slot-container">
                                    <fancy-bar params="currentValue: slotsRemaining, maxValue: slotsTotal, color: 'blue'"></fancy-bar>
                                </div>
                                <!-- /ko -->
                                <!--ko if: (level() == 13)-->
                                <div class="spell-slot-container">
                                    <fancy-bar params="currentValue: focusPointsRemaining, maxValue: focusPointsTotal, color: 'blue'"></fancy-bar>
                                </div>
                                <!-- /ko -->
                                <!-- ko foreach: spells -->
                                <div class="spell-row row">
                                    <button data-bind="click: function(data, event) {$parentContext.$parent.removeSpell(data, $parentContext.$index)}" type="button" id="btn-remove-spell" class="rpgui-button btn-small">-</button>
                                    <div class="autocomplete col">
                                        <input data-bind="textInput: name, css: { prepared: prepared }, bindSpell: { level: $parent.level, name: name } " class="spell-name">
                                    </div>
                                    <!-- ko if: ($parent.level() < 11 || $parent.level() == 12)-->
                                    <input data-bind="checked: prepared, attr: { id: 'prepared-'+$parent.level()+'-'+$index() }" class="col-1 spell-prepared rpgui-checkbox print-hidden" type="checkbox">
                                    <label data-bind="attr: { for: 'prepared-'+$parent.level()+'-'+$index() }" class="prepared-label"></label>
                                    <!-- /ko -->
                                    <!-- ko if: ($parent.level() == 11)-->

                                    <input data-bind="textInput: innateCurrent" class="col-2 innate-current" value="0">
                                    <span>/</span>
                                    <input data-bind="textInput: innateMax" class="col-2 innate-max" value="0">
                                    <!-- /ko -->
                                </div>
                                <!-- /ko -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tab-pane" id="spellcatalog2e" role="tabpanel" aria-labelledby="spellcatalog2e-tab">
                <spell-catalog-pf2e params="catalog: spellCatalog2e, spell: spell2e, addFunc: function(l,n){$root.character().addSpell(l, n)}, disableFunc: function(n) { return character().hasSpell(n) }"></spell-catalog-pf2e>
            </div>  

        </div>
    </body>
</html>
